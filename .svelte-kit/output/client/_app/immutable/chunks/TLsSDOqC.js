import{av as s,l as m,o as y,V as S,aw as q,ax as w,ay as E,u as _,k as h,E as b,R as f,az as x}from"./CAKq_QRH.js";function k(e,a,v=!1){if(e.multiple){if(a==null)return;if(!S(a))return q();for(var r of e.options)r.selected=a.includes(c(r));return}for(r of e.options){var l=c(r);if(w(l,a)){r.selected=!0;return}}(!v||a!==void 0)&&(e.selectedIndex=-1)}function V(e){var a=new MutationObserver(()=>{k(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),y(()=>{a.disconnect()})}function M(e,a,v=a){var r=!0;s(e,"change",l=>{var n=l?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(n),c);else{var d=e.querySelector(n)??e.querySelector("option:not([disabled])");u=d&&c(d)}v(u)}),m(()=>{var l=a();if(k(e,l,r),r&&l===void 0){var n=e.querySelector(":checked");n!==null&&(l=c(n),v(l))}e.__value=l,r=!1}),V(e)}function c(e){return"__value"in e?e.__value:e.value}function g(e,a,v=a){var r=E(),l=new WeakSet;s(e,"input",n=>{var u=n?e.defaultValue:e.value;if(u=t(e)?i(u):u,v(u),f!==null&&l.add(f),r&&u!==(u=a())){var d=e.selectionStart,o=e.selectionEnd;e.value=u??"",o!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(o,e.value.length))}}),(b&&e.defaultValue!==e.value||_(a)==null&&e.value)&&(v(t(e)?i(e.value):e.value),f!==null&&l.add(f)),h(()=>{var n=a();if(e===document.activeElement){var u=x??f;if(l.has(u))return}t(e)&&n===i(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function z(e,a,v=a){s(e,"change",r=>{var l=r?e.defaultChecked:e.checked;v(l)}),(b&&e.defaultChecked!==e.checked||_(a)==null)&&v(e.checked),h(()=>{var r=a();e.checked=!!r})}function t(e){var a=e.type;return a==="number"||a==="range"}function i(e){return e===""?null:+e}export{M as a,g as b,z as c};
