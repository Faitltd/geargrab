const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CNCHNrcA.js","./Bj253pq-.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./Dp1pzeXC.js";import{d as h,w as c}from"./DCC44snd.js";import{b as g}from"./DiZaPGMT.js";const o=c(null),n=c(!0),r=c(null),y=h(o,t=>!!t);h(o,t=>(t==null?void 0:t.is_email_verified)||!1);let l=null;async function w(){n.set(!0),r.set(null);try{const{auth:t,waitForAuth:i}=await a(async()=>{const{auth:e,waitForAuth:s}=await import("./Bj253pq-.js").then(u=>u.d);return{auth:e,waitForAuth:s}},[],import.meta.url);await i(),l=t.onAuthStateChanged(async e=>{try{if(e){console.log("Firebase user signed in:",e.email);const s=await e.getIdToken(),u=await g.auth.loginWithFirebase(s);o.set(u.user),r.set(null)}else console.log("Firebase user signed out"),o.set(null),typeof window<"u"&&localStorage.removeItem("auth_token")}catch(s){console.error("Auth state change error:",s),r.set(s.message),o.set(null)}finally{n.set(!1)}})}catch(t){console.error("Auth initialization error:",t),r.set(t.message),n.set(!1)}}async function I(){n.set(!0),r.set(null);try{const{signInWithGoogle:t}=await a(async()=>{const{signInWithGoogle:e}=await import("./CNCHNrcA.js");return{signInWithGoogle:e}},__vite__mapDeps([0,1]),import.meta.url);return await t()}catch(t){throw console.error("Google sign-in error:",t),r.set(t.message),n.set(!1),t}}async function b(){n.set(!0),r.set(null);try{const{signInWithFacebook:t}=await a(async()=>{const{signInWithFacebook:e}=await import("./CNCHNrcA.js");return{signInWithFacebook:e}},__vite__mapDeps([0,1]),import.meta.url);return await t()}catch(t){throw console.error("Facebook sign-in error:",t),r.set(t.message),n.set(!1),t}}async function p(){n.set(!0),r.set(null);try{const{signInWithTwitter:t}=await a(async()=>{const{signInWithTwitter:e}=await import("./CNCHNrcA.js");return{signInWithTwitter:e}},__vite__mapDeps([0,1]),import.meta.url);return await t()}catch(t){throw console.error("Twitter sign-in error:",t),r.set(t.message),n.set(!1),t}}async function W(){n.set(!0),r.set(null);try{const{signInWithGithub:t}=await a(async()=>{const{signInWithGithub:e}=await import("./CNCHNrcA.js");return{signInWithGithub:e}},__vite__mapDeps([0,1]),import.meta.url);return await t()}catch(t){throw console.error("GitHub sign-in error:",t),r.set(t.message),n.set(!1),t}}function m(){l&&(l(),l=null)}w();window.addEventListener("beforeunload",m);export{b as a,p as b,W as c,y as i,I as s,o as u};
