import"../chunks/Bzak7iHL.js";import"../chunks/DQH0u__Z.js";import{c as Fe,s as C,e as Y,r as $e,o as Re}from"../chunks/DCC44snd.js";import{p as ke,d as H,g as e,m as N,f as p,c as r,r as a,s as o,t as g,a as d,b as Se,aF as pe,aE as fe,u as B,aG as I,j as Ne,k as be,e as Te,i as Ye,h as qe,$ as Je}from"../chunks/CZIwaskW.js";import{i as L}from"../chunks/BQ6CF9gK.js";import{i as Ce}from"../chunks/BRtZcoHD.js";import{a as Oe,s as Ue}from"../chunks/5vQelUuP.js";import{g as ae}from"../chunks/B156jpNp.js";import{i as Ve}from"../chunks/lmZdkGOn.js";import{e as ye,i as _e}from"../chunks/CFvJb8Nb.js";import{r as T,s as We}from"../chunks/CWrymlX0.js";import{s as Ke}from"../chunks/D0Bqa-VY.js";import{b as D}from"../chunks/C_VOYwi-.js";import{b as xe}from"../chunks/B80BDVJ-.js";import{p as Qe}from"../chunks/CWmzcjye.js";import{p as he}from"../chunks/Bp-8lCth.js";import{b as we}from"../chunks/DiZaPGMT.js";var Xe=p('<div class="mx-6 mt-4 bg-red-50 border border-red-200 rounded-md p-4"><div class="flex"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <div class="ml-3"><p class="text-sm text-red-800"> </p></div></div></div>'),Ze=p("<option> </option>"),et=p("<option> </option>"),tt=p('<div class="space-y-6"><h3 class="text-lg font-medium text-gray-900">Basic Information</h3> <div><label for="title" class="block text-sm font-medium text-gray-700">Title *</label> <input type="text" id="title" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="e.g., REI Co-op Half Dome 2 Plus Tent"/></div> <div><label for="description" class="block text-sm font-medium text-gray-700">Description *</label> <textarea id="description" required rows="4" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="Describe your gear, its condition, and any special features..."></textarea></div> <div class="grid grid-cols-2 gap-4"><div><label for="category" class="block text-sm font-medium text-gray-700">Category *</label> <select id="category" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"><option>Select category...</option><!></select></div> <div><label for="subcategory" class="block text-sm font-medium text-gray-700">Subcategory</label> <select id="subcategory" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"><option>Select subcategory...</option><!></select></div></div> <div class="grid grid-cols-3 gap-4"><div><label for="brand" class="block text-sm font-medium text-gray-700">Brand</label> <input type="text" id="brand" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="e.g., REI Co-op"/></div> <div><label for="model" class="block text-sm font-medium text-gray-700">Model</label> <input type="text" id="model" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="e.g., Half Dome 2 Plus"/></div> <div><label for="year" class="block text-sm font-medium text-gray-700">Year</label> <input type="number" id="year" min="1990" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500" placeholder="2023"/></div></div></div>'),rt=Te('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ',1),at=p('<button type="submit" class="inline-flex items-center px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed"><!></button>'),ot=p('<button type="button" class="px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Next</button>'),st=p('<div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md"><div class="px-6 py-4 border-b border-gray-200"><div class="flex items-center justify-between mb-2"><h2 class="text-xl font-semibold text-gray-900"> </h2> <span class="text-sm text-gray-500"> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-green-600 h-2 rounded-full transition-all duration-300"></div></div></div> <!> <form class="p-6"><!> <div class="flex justify-between pt-6 border-t border-gray-200 mt-8"><button type="button" class="px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed">Previous</button> <!></div></form></div>');function it(q,z){ke(z,!1);let l=he(z,"gearItem",8,null),_=he(z,"isEditing",8,!1);const F=Fe();let M=N(!1),x=N(null),c=N(1);const E=4;let t=N({title:"",description:"",category:"",subcategory:"",daily_price:"",weekly_price:"",monthly_price:"",deposit_amount:"",images:[],condition:"good",brand:"",model:"",year:"",size:"",weight:"",dimensions:"",features:[],included_accessories:[],delivery_options:[],pickup_location:"",city:"",state:"",zip_code:"",latitude:null,longitude:null,availability_type:"manual",min_rental_days:1,max_rental_days:30,advance_notice_days:1,instant_book:!1});const G={camping:["Tents","Sleeping Bags","Backpacks","Cooking Gear","Lighting"],climbing:["Ropes","Harnesses","Helmets","Shoes","Protection"],"water-sports":["Kayaks","Paddleboards","Wetsuits","Life Jackets","Paddles"],"winter-sports":["Skis","Snowboards","Boots","Poles","Helmets"],cycling:["Mountain Bikes","Road Bikes","Helmets","Accessories","Tools"],hiking:["Backpacks","Boots","Trekking Poles","Navigation","Clothing"]};_()&&l()&&H(t,{...e(t),...l(),images:Array.isArray(l().images)?l().images:JSON.parse(l().images||"[]"),features:Array.isArray(l().features)?l().features:JSON.parse(l().features||"[]"),included_accessories:Array.isArray(l().included_accessories)?l().included_accessories:JSON.parse(l().included_accessories||"[]"),delivery_options:Array.isArray(l().delivery_options)?l().delivery_options:JSON.parse(l().delivery_options||"[]")});function u(){e(c)<E&&pe(c)}function f(){e(c)>1&&pe(c,-1)}async function $(){H(M,!0),H(x,null);try{if(!e(t).title||!e(t).description||!e(t).category||!e(t).daily_price)throw new Error("Please fill in all required fields");if(e(t).images.length===0)throw new Error("Please add at least one image");const i={...e(t),features:e(t).features.filter(m=>m.trim()),included_accessories:e(t).included_accessories.filter(m=>m.trim()),daily_price:parseFloat(e(t).daily_price),weekly_price:e(t).weekly_price?parseFloat(e(t).weekly_price):null,monthly_price:e(t).monthly_price?parseFloat(e(t).monthly_price):null,deposit_amount:e(t).deposit_amount?parseFloat(e(t).deposit_amount):0,year:e(t).year?parseInt(e(t).year):null,weight:e(t).weight?parseFloat(e(t).weight):null,min_rental_days:parseInt(e(t).min_rental_days),max_rental_days:parseInt(e(t).max_rental_days),advance_notice_days:parseInt(e(t).advance_notice_days)};let n;_()?n=await we.entities.GearItem.update(l().id,i):n=await we.entities.GearItem.create(i),F("success",{gearItem:n.gear_item,isEditing:_()})}catch(i){console.error("Form submission error:",i),H(x,i.message)}finally{H(M,!1)}}Ce();var j=st(),J=r(j),O=r(J),U=r(O),Ie=r(U);a(U);var oe=o(U,2),Me=r(oe);a(oe),a(O);var se=o(O,2),Ae=r(se);a(se),a(J);var ie=o(J,2);{var Be=i=>{var n=Xe(),m=r(n),w=o(r(m),2),h=r(w),v=r(h,!0);a(h),a(w),a(m),a(n),g(()=>C(v,e(x))),d(i,n)};L(ie,i=>{e(x)&&i(Be)})}var V=o(ie,2),ne=r(V);{var Le=i=>{var n=tt(),m=o(r(n),2),w=o(r(m),2);T(w),a(m);var h=o(m,2),v=o(r(h),2);$e(v),a(h);var b=o(h,2),P=r(b),K=o(r(P),2);g(()=>{e(t),fe(()=>{})});var Q=r(K);Q.value=Q.__value="";var je=o(Q);ye(je,1,()=>B(()=>Object.keys(G)),_e,(s,k)=>{var S=Ze(),re=r(S,!0);a(S);var A={};g(y=>{C(re,y),A!==(A=e(k))&&(S.value=(S.__value=e(k))??"")},[()=>(e(k),B(()=>e(k).replace("-"," ").replace(/\b\w/g,y=>y.toUpperCase())))]),d(s,S)}),a(K),a(P);var de=o(P,2),R=o(r(de),2);g(()=>{e(t),fe(()=>{})});var X=r(R);X.value=X.__value="";var Pe=o(X);{var He=s=>{var k=Ne(),S=be(k);ye(S,1,()=>(e(t),B(()=>G[e(t).category])),_e,(re,A)=>{var y=et(),De=r(y,!0);a(y);var ge={};g(()=>{C(De,e(A)),ge!==(ge=e(A))&&(y.value=(y.__value=e(A))??"")}),d(re,y)}),d(s,k)};L(Pe,s=>{e(t),B(()=>e(t).category&&G[e(t).category])&&s(He)})}a(R),a(de),a(b);var ce=o(b,2),Z=r(ce),ue=o(r(Z),2);T(ue),a(Z);var ee=o(Z,2),me=o(r(ee),2);T(me),a(ee);var ve=o(ee,2),te=o(r(ve),2);T(te),a(ve),a(ce),a(n),g(s=>{R.disabled=(e(t),B(()=>!e(t).category)),We(te,"max",s)},[()=>B(()=>new Date().getFullYear())]),D(w,()=>e(t).title,s=>I(t,e(t).title=s)),D(v,()=>e(t).description,s=>I(t,e(t).description=s)),xe(K,()=>e(t).category,s=>I(t,e(t).category=s)),xe(R,()=>e(t).subcategory,s=>I(t,e(t).subcategory=s)),D(ue,()=>e(t).brand,s=>I(t,e(t).brand=s)),D(me,()=>e(t).model,s=>I(t,e(t).model=s)),D(te,()=>e(t).year,s=>I(t,e(t).year=s)),d(i,n)};L(ne,i=>{e(c)===1&&i(Le)})}var le=o(ne,2),W=r(le),ze=o(W,2);{var Ee=i=>{var n=at(),m=r(n);{var w=v=>{var b=rt(),P=o(be(b),1,!0);g(()=>C(P,_()?"Updating...":"Creating...")),d(v,b)},h=v=>{var b=Ye();g(()=>C(b,_()?"Update Listing":"Create Listing")),d(v,b)};L(m,v=>{e(M)?v(w):v(h,!1)})}a(n),g(()=>n.disabled=e(M)),d(i,n)},Ge=i=>{var n=ot();Y("click",n,u),d(i,n)};L(ze,i=>{e(c)===E?i(Ee):i(Ge,!1)})}a(le),a(V),a(j),g(()=>{C(Ie,`${_()?"Edit":"List"} Your Gear`),C(Me,`Step ${e(c)??""} of 4`),Ke(Ae,`width: ${e(c)/E*100}%`),W.disabled=e(c)===1}),Y("click",W,f),Y("submit",V,Qe($)),d(q,j),Se()}var nt=p('<meta name="description" content="List your outdoor gear for rent and start earning money"/>'),lt=p('<div class="bg-white rounded-lg shadow-md p-8 text-center"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <h3 class="mt-2 text-lg font-medium text-gray-900">Sign In Required</h3> <p class="mt-1 text-gray-600">You need to be signed in to list your gear</p> <div class="mt-4"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700">Sign In</button></div></div>'),dt=p('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-8"><h1 class="text-3xl font-bold text-gray-900">List Your Gear</h1> <p class="mt-2 text-lg text-gray-600">Turn your unused outdoor gear into income by renting it to fellow adventurers</p></div> <div class="bg-white rounded-lg shadow-md p-6 mb-8"><h2 class="text-xl font-semibold text-gray-900 mb-4">Why List on GearGrab?</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="text-center"><div class="mx-auto h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center mb-3"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg></div> <h3 class="text-lg font-medium text-gray-900">Earn Extra Income</h3> <p class="text-sm text-gray-600">Make money from gear sitting in your garage</p></div> <div class="text-center"><div class="mx-auto h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center mb-3"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.031 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div> <h3 class="text-lg font-medium text-gray-900">Secure & Protected</h3> <p class="text-sm text-gray-600">All rentals are insured and verified</p></div> <div class="text-center"><div class="mx-auto h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center mb-3"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div> <h3 class="text-lg font-medium text-gray-900">Build Community</h3> <p class="text-sm text-gray-600">Connect with fellow outdoor enthusiasts</p></div></div></div> <!></div></div>');function Mt(q,z){ke(z,!1);const[l,_]=Oe(),F=()=>Ue(Ve,"$isAuthenticated",l);Re(()=>{if(!F()){ae("/auth/login?redirect="+encodeURIComponent("/list-gear"));return}});function M(u){const{gearItem:f}=u.detail;ae(`/gear/${f.id}?success=created`)}Ce();var x=dt();qe(u=>{var f=nt();Je.title="List Your Gear - GearGrab",d(u,f)});var c=r(x),E=o(r(c),4);{var t=u=>{it(u,{$$events:{success:M}})},G=u=>{var f=lt(),$=o(r(f),6),j=r($);a($),a(f),Y("click",j,()=>ae("/auth/login?redirect="+encodeURIComponent("/list-gear"))),d(u,f)};L(E,u=>{F()?u(t):u(G,!1)})}a(c),a(x),d(q,x),Se(),_()}export{Mt as component};
